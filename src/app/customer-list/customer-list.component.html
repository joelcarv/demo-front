<div class="customer-list mat-elevation-z8">
<mat-table [dataSource]="dataSource">
      <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef>Customer name</mat-header-cell>
        <mat-cell *matCellDef="let customer">{{customer.name}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="country">
        <mat-header-cell *matHeaderCellDef>
          <div>
            <form class="tp-form">
                <mat-form-field>
                    <input matInput [(ngModel)]="model.selectedCountry" [formControl]="countryFilter" (change)="onCountrySelection()" placeholder="Country">
                </mat-form-field>
              </form>
          </div>
        </mat-header-cell>
        <mat-cell *matCellDef="let customer">{{customer.country}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="state">
        <mat-header-cell *matHeaderCellDef>
            <mat-form-field>
                <mat-select placeholder= "State"
                  [(ngModel)] = "model.selectedState" name = "state" (ngModelChange)="onStateSelection()">
                  <mat-option *ngFor = "let state of states" [value] = "state">
                    {{state}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
        </mat-header-cell>
        <mat-cell *matCellDef="let customer">{{customer.state}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="phone">
        <mat-header-cell *matHeaderCellDef>Phone number</mat-header-cell>
        <mat-cell *matCellDef="let customer">{{customer.phone}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="countryCode">
        <mat-header-cell *matHeaderCellDef>Country Code</mat-header-cell>
        <mat-cell *matCellDef="let customer">{{customer.countryCode}}</mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </mat-table>
</div>